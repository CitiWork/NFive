// <auto-generated />
// ReSharper disable all

using System;
using System.Data.Entity.Migrations;
using System.CodeDom.Compiler;
using System.Data.Entity.Migrations.Infrastructure;

namespace NFive.Server.Migrations
{
    [GeneratedCode("NFive.Migration", "0.3 Alpha")]
    public class Init : DbMigration, IMigrationMetadata
    {
        string IMigrationMetadata.Id => "201903061834456_Init";
        
        string IMigrationMetadata.Source => null;
        
        string IMigrationMetadata.Target => "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";
        
        public override void Up()
        {
            CreateTable(
                "dbo.BootHistories",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        LastActive = c.DateTime(nullable: false, precision: 0),
                    })
                .PrimaryKey(t => t.Id);
            
            CreateTable(
                "dbo.Sessions",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        IpAddress = c.String(nullable: false, maxLength: 15, unicode: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        Connected = c.DateTime(precision: 0),
                        Disconnected = c.DateTime(precision: 0),
                        DisconnectReason = c.String(maxLength: 200, unicode: false),
                        UserId = c.Guid(nullable: false),
                    })
                .PrimaryKey(t => t.Id)
                .ForeignKey("dbo.Users", t => t.UserId, cascadeDelete: true)
                .Index(t => t.UserId);
            
            CreateTable(
                "dbo.Users",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        License = c.String(nullable: false, maxLength: 40, unicode: false),
                        SteamId = c.Long(),
                        Name = c.String(nullable: false, maxLength: 32, unicode: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        Deleted = c.DateTime(precision: 0),
                    })
                .PrimaryKey(t => t.Id)
                .Index(t => t.License, unique: true)
                .Index(t => t.SteamId, unique: true);
        }
        
        public override void Down()
        {
            DropForeignKey("dbo.Sessions", "UserId", "dbo.Users");
            DropIndex("dbo.Users", new[] { "SteamId" });
            DropIndex("dbo.Users", new[] { "License" });
            DropIndex("dbo.Sessions", new[] { "UserId" });
            DropTable("dbo.Users");
            DropTable("dbo.Sessions");
            DropTable("dbo.BootHistories");
        }
    }
}
