// <auto-generated />
// ReSharper disable all

using System;
using System.Data.Entity.Migrations;
using System.CodeDom.Compiler;
using System.Data.Entity.Migrations.Infrastructure;

namespace NFive.Server.Migrations
{
    [GeneratedCode("NFive.Migration", "0.3 Alpha")]
    public class Init : DbMigration, IMigrationMetadata
    {
        string IMigrationMetadata.Id => "201903222342309_Init";
        
        string IMigrationMetadata.Source => null;
        
        string IMigrationMetadata.Target => "H4sIAAAAAAAEAOVaW2/bNhR+H7D/IOhxSCUnaYctsFukTtIZzQ1xUuytoKVjh5hEqSQV2Bj2y/awn7S/sENdqLssu46bbS9FTPJ8PDw38nzq33/+NXy39D3jCbigARuZh9bANIA5gUvZYmRGcv7qJ/Pd2++/G567/tL4lK07VutQkomR+ShleGLbwnkEnwjLpw4PRDCXlhP4NnED+2gw+Nk+PLQBIUzEMozhXcQk9SH+gT/HAXMglBHxrgIXPJGO48w0RjWuiQ8iJA6MzOsL+gTWFDgqbU1lwMkCTOPUowR1mYI3Nw3CWCCJRE1PHgRMJQ/YYhriAPHuVyHgujnxBKQnOMmX9z3M4Egdxs4FMygnEjLwNwQ8PE6tY1fFt7Kxqa2H9jtHO8uVOnVsw5H5PgjkLxS34SvTqO53Mva4WluxcuIUqyB6YJQWMJAHOjgG1pE1sAYHxjjyZMRhxCCSnHgHxm0086jzEVb3wW/ARizyvKKyqC7OlQZw6JYHIXC5uoN5eoSJaxp2Wc6uCmqxgkxysg8Rxb+vcW8y80CHgt0pPuZAJGiMM/xxj/G7Mc4lEfLUkWi6DaGGdu7JTv9OQYg4ctb69uyjNQ44ZN699chKZVQirx2craq4GAuFdfz6P+XjSXjquhyPn6Fg4cAqaBpXZHkJbCEfsT6+MY0LugQ3G0iRHxjFmokykkebR8WuogvLKAOnEalb8IwK5+tl74AIFXmt1sMi1ct83RtiSeebuvqaPNFFnAYNYKZxB148KR5pmFwilpr4nCYDRsQFD/y7wEsl9MTne8IXIFGZoGl2GkTc2TaTE9W2TGMl/D/M4UvqABPQEYOv+4XghvtOJRA/133C5I+v18mofzsUPT56yaXmDDzoUyxaEy9Pre2TL0uv5uTLUrNP8p0KETg0VqOQfbkK5UOdM9fo1CfxaXYSdCtmGA0xp3BrvETMau7csMSehnobqFfjmAiHuHVzovpuP110Ycp10U+Dsjo/1HbBFAYOTL2X8UoRWBQok/V8p8yhIfG6TFER6lkm1EE1fHXmDEJgLmrXdew++2b3SH1vvUXF+OvsMrQLcVSv7SgjUQK4Lhpx86KGYSkbSj1qmFZ7kaZ71fcKdgqy6W2fB3rq/tKs3Y2U514NRkfRGghl3ib5JCMqwgW7lREKVaCwprFMVN24Lku1wlrXWiSsS64CRK5nNWXLZ2soRjou8rbXTvrerD+2Wxrk4RUJQ7w4Cg1zOmJMk255/Gq6eRPpJxi2Ixp6Sa2t3ikJ48qseo26cEG5kHg5kBlRd8rY9WvLKlnQElTZZvVAr/ssC7hMRv2dXrkN3IHVAZbb8wKX+qroKCko+L1TOiYwiEd4wytnHHiRz9pLYLu0vsOLEHqwP06xGS1CFcfraEO7YpJa+ax5oHaHlZ3ay+Udab6hv7MCtrmvWyWfx8+FhrQEkg/vP2YKLWYJKR/uj1XuOotw5ZltELNetBk1m+2PnD0WinhtD4hvliPJNfbVCRLf0JtnR7PY86SG7vNKdSsb7I+j+7Yijh7sj5P0ckWQZGT/Caobs1LkZ4N7DtXaC6e6RO+uXzqVF80wDcr13wVqz41kiWmggZ6oq54aV6vpF89S81b859ijeOB8xRVhdA5CJrSH+cZ6U/mw8HJIflsI1+vP9O+dvVnsgGV38YeMSYVbDg5NvjwNdsC5bwW8MQP/77B5jfV+Itx5JLxGe78IX9YY7vW4fSjlJv5718hldrzJyjE9vhl8mQtPAqBGI0yYC8uR+Xssc2JMfv2ciB0YNxyr3okxMP7YVfDXHwEvNvIrXLH2SLv9JuKB0S8R2vAefaOMViGWv441ntEFZU08UIcCm4VLkXJuikDFOb+IPK/Qy9vk4nNQvd+K2tWc217Z3H2wt+3N+AskbOuM1s742OSxipE+C9DLSUznCyjUecUWyraLsW3apJW3bOJzW+ncJuRGUnUPTG+N2e0kditmK/E8z0Ll1hsajNPCf4fCFBF0kUMM0zdPMUL1mgmbB1miVDTKllQq6xVIguWUnHJJ58SROO2o46qvj5+IF+GSc38G7oTdRDKMJB4Z/JlX+mSgEq5r/5ivLus8vAnjb3y7OAKqSdWNcMPeR9Rztd4XDe+WFgiVyR8AxxNfYmGQsFhppOuA9QRKzacL0D34oYdg4oZNieo4NtcNQ/YSFsRZZW1pO8h6R5TNPjyjZMGJL1KMXB5/Ygy7/vLtP/ETXpYVKAAA";
        
        public override void Up()
        {
            CreateTable(
                "dbo.BootHistories",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        LastActive = c.DateTime(nullable: false, precision: 0),
                    })
                .PrimaryKey(t => t.Id);
            
            CreateTable(
                "dbo.Sessions",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        IpAddress = c.String(nullable: false, maxLength: 15, unicode: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        Connected = c.DateTime(precision: 0),
                        Disconnected = c.DateTime(precision: 0),
                        DisconnectReason = c.String(maxLength: 200, unicode: false),
                        UserId = c.Guid(nullable: false),
                    })
                .PrimaryKey(t => t.Id)
                .ForeignKey("dbo.Users", t => t.UserId, cascadeDelete: true)
                .Index(t => t.UserId);
            
            CreateTable(
                "dbo.Users",
                c => new
                    {
                        Id = c.Guid(nullable: false),
                        License = c.String(nullable: false, maxLength: 40, unicode: false),
                        SteamId = c.Long(),
                        Name = c.String(nullable: false, maxLength: 32, unicode: false),
                        Created = c.DateTime(nullable: false, precision: 0),
                        Deleted = c.DateTime(precision: 0),
                    })
                .PrimaryKey(t => t.Id)
                .Index(t => t.License, unique: true)
                .Index(t => t.SteamId, unique: true);
            
        }
        
        public override void Down()
        {
            DropForeignKey("dbo.Sessions", "UserId", "dbo.Users");
            DropIndex("dbo.Users", new[] { "SteamId" });
            DropIndex("dbo.Users", new[] { "License" });
            DropIndex("dbo.Sessions", new[] { "UserId" });
            DropTable("dbo.Users");
            DropTable("dbo.Sessions");
            DropTable("dbo.BootHistories");
        }
    }
}
